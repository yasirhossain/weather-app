require("source-map-support").install();
!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=128)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("reactstrap")},function(e,t){e.exports=require("react-router-dom")},function(e,t,n){"use strict";var i=n(116),a=n.n(i);a.a.enable();var r="undefined"!=typeof window?a()("frontend"):a()("backend");t.a=r},function(e,t){e.exports={name:"apollo-fullstack-starter-kit",private:!0,version:"1.0.0",main:"src/server",app:{backendBuildDir:"build/server",frontendBuildDir:"build/client",webpackDevPort:3e3,apiPort:8080,ssr:!0,webpackDll:!0,frontendRefreshOnBackendChange:!0,reactHotLoader:!1,debugSQL:!1,persistGraphQL:!0,apolloLogging:!1},engines:{node:"6.6.0",npm:"3.10.3"},scripts:{build:"babel-node --presets es2015 tools/webpack.run",start:"node --harmony build/server",tests:'cross-env NODE_ENV=test PORT=7070 mocha-webpack --include babel-polyfill --webpack-config tools/webpack.config.js --full-trace --exit "src/**/*.spec.js"',"tests:watch":'cross-env NODE_ENV=test PORT=7070 mocha-webpack --include babel-polyfill --webpack-config tools/webpack.config.js --full-trace --watch "src/**/*.spec.js"',test:"npm run tests && npm run lint",lint:"eslint --fix --ext js --ext jsx src tests tools",seed:"npm run migrate && knex seed:run",migrate:"knex migrate:latest",rollback:"knex migrate:rollback",watch:"babel-node --presets es2015 tools/webpack.run watch","heroku-postbuild":"rm -rf build && npm run build && npm run seed"},repository:{type:"git",url:"git@github.com:sysgears/apollo-fullstack-starter-kit.git"},bugs:{url:"https://github.com/sysgears/apollo-fullstack-starter-kit/issues"},homepage:"https://github.com/sysgears/apollo-fullstack-starter-kit",keywords:["apollo","fullstack","starter","graphql","react","redux"],author:"SysGears INC",license:"MIT",dependencies:{"apollo-client":"^1.2.2","apollo-logger":"^0.0.2",axios:"^0.16.1","body-parser":"^1.17.1",bootstrap:"^4.0.0-alpha.6",dataloader:"^1.3.0",express:"^4.15.2",graphql:"^0.9.6","graphql-server-express":"^0.7.2","graphql-subscriptions":"^0.3.1","graphql-tag":"^2.0.0","graphql-tools":"^0.11.0","graphql-typings":"0.0.1-beta-2",history:"^4.6.1","immutability-helper":"^2.2.0","isomorphic-fetch":"^2.2.1",knex:"^0.13.0",lodash:"^4.17.4",minilog:"^3.1.0",moment:"^2.15.1","moment-timezone":"^0.5.11","performance-now":"^2.1.0",persistgraphql:"^0.3.1","prop-types":"^15.5.9",react:"^15.5.4","react-apollo":"^1.2.0","react-dom":"^15.5.4","react-hot-loader":"^3.0.0-beta.6","react-moment":"^0.2.2","react-redux":"^5.0.4","react-router":"^4.1.1","react-router-dom":"^4.1.1","react-router-redux":"^5.0.0-alpha.6","react-transition-group":"^1.1.3",reactstrap:"^4.6.1",redux:"^3.6.0","redux-devtools-extension":"^2.13.2","redux-form":"^6.7.0","serialize-javascript":"^1.3.0","source-map-support":"^0.4.15",sqlite3:"^3.1.8","styled-components":"^2.0.0-15","subscriptions-transport-ws":"^0.6.0"},devDependencies:{"babel-cli":"^6.24.1","babel-core":"^6.24.1","babel-eslint":"^7.2.3","babel-loader":"^7.0.0","babel-plugin-styled-components":"^1.1.4","babel-plugin-transform-class-properties":"^6.24.1","babel-plugin-transform-decorators-legacy":"^1.3.4","babel-plugin-transform-runtime":"^6.23.0","babel-polyfill":"^6.23.0","babel-preset-es2015":"^6.24.1","babel-preset-react":"^6.24.1","babel-preset-stage-0":"^6.24.1","babel-register":"^6.24.1",chai:"^3.5.0","chai-as-promised":"^6.0.0","chai-http":"^3.0.0","cross-env":"^5.0.0","css-loader":"^0.28.1",enzyme:"^2.8.2",eslint:"^3.19.0","eslint-config-airbnb":"^15.0.0","eslint-import-resolver-webpack":"^0.8.1","eslint-plugin-import":"^2.2.0","eslint-plugin-jsx-a11y":"^5.0.1","eslint-plugin-mocha":"^4.9.0","eslint-plugin-react":"^7.0.1","extract-text-webpack-plugin":"^2.1.0","file-loader":"^0.11.1","fs-extra":"^3.0.1","ignore-loader":"^0.1.2","isomorphic-style-loader":"^2.0.0",jsdom:"^10.1.0","json-loader":"^0.5.4",mkdirp:"^0.5.1",mocha:"^3.3.0","mocha-steps":"^1.0.2","mocha-webpack":"^0.7.0","node-sass":"^4.5.2","persistgraphql-webpack-plugin":"^0.2.3","postcss-loader":"^2.0.5","raw-loader":"^0.5.1","react-test-renderer":"^15.5.4","resolve-url-loader":"^2.0.2","sass-loader":"^6.0.5","style-loader":"^0.17.0","url-loader":"^0.5.8","wait-on":"^2.0.2",webpack:"^2.5.1","webpack-dev-server":"^2.4.5","webpack-manifest-plugin":"^1.1.0","webpack-merge":"^4.1.0","webpack-node-externals":"^1.6.0","webpack-virtual-modules":"^0.1.5",ws:"^3.0.0"},eslintConfig:{parser:"babel-eslint",extends:["airbnb/base","plugin:import/errors","eslint:recommended","plugin:react/recommended"],rules:{"no-use-before-define":0,"arrow-body-style":0,"dot-notation":0,"no-console":0,semi:2},settings:{"import/resolver":{webpack:{config:"./tools/webpack.config.js"}}},env:{mocha:!0},globals:{window:!0,document:!0,__DEV__:!0,__CLIENT__:!0,__SERVER__:!0,__SSR__:!0},plugins:["react"]}}},function(e,t){e.exports=require("babel-runtime/helpers/extends")},function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:null}]}}],loc:{start:0,end:59}};n.loc.source={body:"fragment PostInfo on Post {\n    id\n    title\n    content\n}\n",name:"GraphQL"};e.exports=n},function(e,t){e.exports=require("babel-runtime/core-js/object/get-prototype-of")},function(e,t){e.exports=require("babel-runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("babel-runtime/helpers/inherits")},function(e,t){e.exports=require("babel-runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("babel-runtime/regenerator")},function(e,t){e.exports=require("react-apollo")},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(1),a=n.n(i),r=n(2),o=n.n(r),s=n(25),u=n.n(s),l=n(0),c=n.n(l),d=n(18),m=(n.n(d),function(e,t){return n.i(d.without)(d.union.apply(void 0,u()(n.i(d.map)(e,function(e){return n.i(d.castArray)(t(e))}))),void 0)}),p=function(){function e(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.route,t.navItem,t.reducer;a()(this,e),this.route=m(arguments,function(e){return e.route}),this.navItem=m(arguments,function(e){return e.navItem}),this.reducer=m(arguments,function(e){return e.reducer})}return o()(e,[{key:"routes",get:function(){var e=this;return this.route.map(function(t,n){return c.a.cloneElement(t,{key:n+e.route.length})})}},{key:"navItems",get:function(){var e=this;return this.navItem.map(function(t,n){return c.a.cloneElement(t,{key:n+e.navItem.length})})}},{key:"reducers",get:function(){return d.merge.apply(void 0,u()(this.reducer))}}]),e}()},function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CommentInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Comment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:null}]}}],loc:{start:0,end:55}};n.loc.source={body:"fragment CommentInfo on Comment {\n    id\n    content\n}\n",name:"GraphQL"};e.exports=n},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("redux-form")},function(e,t,n){"use strict";var i=n(43),a=n(45),r=(n.n(a),n(50),n(53)),o=n(16);t.a=new o.a(i.a,r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(1),a=n.n(i),r=n(2),o=n.n(r),s=n(25),u=n.n(s),l=n(18),c=(n.n(l),function(e,t){return n.i(l.without)(l.union.apply(void 0,u()(n.i(l.map)(e,function(e){return n.i(l.castArray)(t(e))}))),void 0)}),d=function(){function e(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.schema,t.createResolversFunc,t.subscriptionsSetup,t.createContextFunc;a()(this,e),this.schema=c(arguments,function(e){return e.schema}),this.createResolversFunc=c(arguments,function(e){return e.createResolversFunc}),this.subscriptionsSetup=c(arguments,function(e){return e.subscriptionsSetup}),this.createContextFunc=c(arguments,function(e){return e.createContextFunc})}return o()(e,[{key:"createContext",value:function(){return l.merge.apply(void 0,[{}].concat(u()(this.createContextFunc.map(function(e){return e()}))))}},{key:"createResolvers",value:function(e){return l.merge.apply(void 0,[{}].concat(u()(this.createResolversFunc.map(function(t){return t(e)}))))}},{key:"schemas",get:function(){return this.schema}},{key:"subscriptionsSetups",get:function(){return l.merge.apply(void 0,u()(this.subscriptionsSetup))}}]),e}()},function(e,t,n){"use strict";var i=n(63),a=(n(67),n(68)),r=n(21);t.a=new r.a(i.a,a.a)},function(e,t,n){"use strict";var i=n(115),a=n.n(i),r=n(38);t.a=a()(r.production)},function(e,t){e.exports=require("apollo-logger")},function(e,t){e.exports=require("babel-runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("immutability-helper")},function(e,t){e.exports=require("react-redux")},function(e,t,n){"use strict";var i=n(8),a=n.n(i),r=n(0),o=n.n(r),s=n(3),u=n.n(s),l=n(19),c=(n.n(l),n(4)),d=(n.n(c),function(e){return e?void 0:"Required"}),m=function(e){var t=e.input,n=e.label,i=e.type,r=e.meta,s=r.touched,u=r.error,l="normal";return s&&u&&(l="danger"),o.a.createElement(c.FormGroup,{color:l},o.a.createElement(c.Label,null,n),o.a.createElement("div",null,o.a.createElement(c.Input,a()({},t,{placeholder:n,type:i})),s&&u&&o.a.createElement(c.FormFeedback,null,u)))};m.propTypes={input:u.a.object,label:u.a.string,type:u.a.string,meta:u.a.object};var p=function(e){var t=e.handleSubmit,n=e.submitting,i=e.onSubmit;return o.a.createElement(c.Form,{name:"post",onSubmit:t(i)},o.a.createElement(l.Field,{name:"title",component:m,type:"text",label:"Title",validate:d}),o.a.createElement(l.Field,{name:"content",component:m,type:"text",label:"Content",validate:d}),o.a.createElement(c.Button,{color:"primary",type:"submit",disabled:n},"Submit"))};p.propTypes={handleSubmit:u.a.func,onSubmit:u.a.func,submitting:u.a.bool},t.a=n.i(l.reduxForm)({form:"post",enableReinitialize:!0})(p)},function(e,t,n){"use strict";function i(e,t){if(null!==t.id&&e.postsQuery.edges.some(function(e){return t.id===e.cursor}))return e;var n={cursor:t.id,node:t,__typename:"PostEdges"};return E()(e,{postsQuery:{totalCount:{$set:e.postsQuery.totalCount+1},edges:{$unshift:[n]}}})}function a(e,t){var n=e.postsQuery.edges.findIndex(function(e){return e.node.id===t});return n<0?e:E()(e,{postsQuery:{totalCount:{$set:e.postsQuery.totalCount-1},edges:{$splice:[[n,1]]}}})}t.b=i;var r=n(25),o=n.n(r),s=n(10),u=n.n(s),l=n(1),c=n.n(l),d=n(2),m=n.n(d),p=n(13),f=n.n(p),v=n(12),b=n.n(v),k=n(0),h=n.n(k),g=n(3),y=n.n(g),C=n(15),x=(n.n(C),n(26)),E=n.n(x),S=n(5),N=(n.n(S),n(4)),I=(n.n(N),n(95)),P=n.n(I),D=n(96),w=n.n(D),_=n(91),q=n.n(_),F=function(e){function t(e){c()(this,t);var n=f()(this,(t.__proto__||u()(t)).call(this,e));return n.subscribeToPostList=function(e){var t=n.props.subscribeToMore;n.subscription=t({document:w.a,variables:{endCursor:e},updateQuery:function(e,t){var n=t.subscriptionData.data.postsUpdated,r=n.mutation,o=n.node,s=e;return"CREATED"===r?s=i(e,o):"DELETED"===r&&(s=a(e,o.id)),s}})},n.subscription=null,n}return b()(t,e),m()(t,[{key:"componentWillReceiveProps",value:function(e){if(!e.loading){var t=this.props.postsQuery?this.props.postsQuery.pageInfo.endCursor:0,n=e.postsQuery.pageInfo.endCursor;this.subscription&&t!==n&&(this.subscription(),this.subscription=null),this.subscription||this.subscribeToPostList(n)}}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription()}},{key:"renderPosts",value:function(){var e=this.props,t=e.postsQuery,n=e.deletePost;return t.edges.map(function(e){var t=e.node,i=t.id,a=t.title;return h.a.createElement(N.ListGroupItem,{className:"justify-content-between",key:i},h.a.createElement("span",null,h.a.createElement(S.Link,{className:"post-link",to:"/post/"+i},a)),h.a.createElement("span",{className:"badge badge-default badge-pill delete-button",onClick:n(i)},"Delete"))})}},{key:"renderLoadMore",value:function(){var e=this.props,t=e.postsQuery,n=e.loadMoreRows;if(t.pageInfo.hasNextPage)return h.a.createElement(N.Button,{id:"load-more",color:"primary",onClick:n},"Load more ...")}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.postsQuery;return t&&!n?h.a.createElement("div",null):h.a.createElement("div",null,h.a.createElement("h2",null,"Posts"),h.a.createElement(S.Link,{to:"/post/add"},h.a.createElement(N.Button,{color:"primary"},"Add")),h.a.createElement("h1",null),h.a.createElement(N.ListGroup,null,this.renderPosts()),h.a.createElement("div",null,h.a.createElement("small",null,"(",n.edges.length," / ",n.totalCount,")")),this.renderLoadMore())}}]),t}(h.a.Component);F.propTypes={loading:y.a.bool.isRequired,postsQuery:y.a.object,deletePost:y.a.func.isRequired,loadMoreRows:y.a.func.isRequired,subscribeToMore:y.a.func.isRequired},t.a=n.i(C.compose)(n.i(C.graphql)(P.a,{options:function(){return{variables:{limit:10,after:0}}},props:function(e){var t=e.data,n=t.loading,i=t.postsQuery,a=t.fetchMore,r=t.subscribeToMore;return{loading:n,postsQuery:i,subscribeToMore:r,loadMoreRows:function(){return a({variables:{after:i.pageInfo.endCursor},updateQuery:function(e,t){var n=t.fetchMoreResult,i=n.postsQuery.totalCount,a=n.postsQuery.edges,r=n.postsQuery.pageInfo;return{postsQuery:{totalCount:i,edges:[].concat(o()(e.postsQuery.edges),o()(a)),pageInfo:r,__typename:"PostsQuery"}}}})}}}}),n.i(C.graphql)(q.a,{props:function(e){var t=e.mutate;return{deletePost:function(e){return function(){return t({variables:{id:e},optimisticResponse:{__typename:"Mutation",deletePost:{id:e,__typename:"Post"}},updateQueries:{getPosts:function(e,t){return a(e,t.mutationResult.data.deletePost.id)}}})}}}}}))(F)},function(e,t,n){"use strict";n.d(t,"b",function(){return d});var i=n(112),a=(n.n(i),n(24)),r=(n.n(a),n(34)),o=(n.n(r),n(99)),s=n.n(o),u=n(22),l=n(6),c=n(7),d=(n.n(c),c.app.apolloLogging?n.i(a.addApolloLogging)(new r.PubSub):new r.PubSub),m=n.i(i.makeExecutableSchema)({typeDefs:[s.a].concat(u.a.schemas),resolvers:u.a.createResolvers(d)});n.i(i.addErrorLoggingToSchema)(m,{log:function(e){return l.a.error(e)}}),t.a=m},function(e,t){e.exports=require("apollo-client")},function(e,t){e.exports=require("babel-runtime/core-js/promise")},function(e,t){e.exports=require("graphql-server-express")},function(e,t){e.exports=require("graphql-subscriptions")},function(e,t){e.exports=require("styled-components")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6);n(58);process.on("uncaughtException",function(e){i.a.error(e),process.exit(1)})},function(e,t){e.exports=require("babel-polyfill")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"development",function(){return i}),n.d(t,"production",function(){return a}),n.d(t,"test",function(){return r});var i={client:"sqlite3",connection:{filename:"./dev-db.sqlite3"},seeds:{directory:"./src/server/database/seeds"},migrations:{directory:"./src/server/database/migrations"},useNullAsDefault:!0},a={client:"sqlite3",connection:{filename:"./prod-db.sqlite3"},seeds:{directory:"./src/server/database/seeds"},migrations:{directory:"./src/server/database/migrations"},useNullAsDefault:!0},r={client:"sqlite3",connection:{filename:":memory:"},seeds:{directory:"./src/server/database/seeds"},migrations:{directory:"./src/server/database/migrations"},useNullAsDefault:!0}},function(e,t,n){"use strict";function i(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(d.a,null),r.a.createElement(c.Container,{id:"content"},t),r.a.createElement(m,null,r.a.createElement("div",{className:"text-center"})))}t.a=i;var a=n(0),r=n.n(a),o=n(3),s=n.n(o),u=n(35),l=n.n(u),c=n(4),d=(n.n(c),n(40)),m=l.a.footer.withConfig({displayName:"app__Footer",componentId:"hteuf5-0"})(["position: 'absolute',bottom: 0,width: '100%',lineHeight: ",",height: ",""],"40px","40px");i.propTypes={children:s.a.element}},function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(5),o=(n.n(r),n(4)),s=(n.n(o),n(7)),u=(n.n(s),n(20)),l=function(){return a.a.createElement(o.Navbar,{color:"faded",light:!0},a.a.createElement(o.Container,null,a.a.createElement(o.Row,{className:"align-items-center"},a.a.createElement(r.Link,{to:"/",className:"navbar-brand"},"Weather App"),a.a.createElement(o.Nav,null,u.a.navItems),(!s.app.persistGraphQL||!1)&&a.a.createElement(o.Nav,{className:"ml-auto",navbar:!0},a.a.createElement(o.NavItem,null,a.a.createElement("a",{href:"/graphiql"},"GraphiQL"))))))};t.a=l},function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(5),o=(n.n(r),n(39)),s=n(20);t.a=a.a.createElement(o.a,null,a.a.createElement(r.Switch,null,s.a.routes))},function(e,t,n){"use strict";var i=n(10),a=n.n(i),r=n(1),o=n.n(r),s=n(2),u=n.n(s),l=n(13),c=n.n(l),d=n(12),m=n.n(d),p=n(0),f=n.n(p),v=n(3),b=n.n(v),k=n(27),h=(n.n(k),n(15)),g=(n.n(h),n(26)),y=n.n(g),C=n(4),x=(n.n(C),n(84)),E=n.n(x),S=n(83),N=n.n(S),I=n(85),P=n.n(I),D=function(e){function t(e){o()(this,t);var n=c()(this,(t.__proto__||a()(t)).call(this,e));return n.subscription=null,n}return m()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){e.loading||(this.subscription&&(this.subscription(),this.subscription=null),this.subscription||this.subscribeToCount())}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription()}},{key:"handleReduxIncrement",value:function(e){var t=void 0;t=e&&e.target?e.target.value:e,this.props.onReduxIncrement(t)}},{key:"subscribeToCount",value:function(){var e=this.props.subscribeToMore;this.subscription=e({document:P.a,variables:{},updateQuery:function(e,t){var n=t.subscriptionData.data.countUpdated.amount;return y()(e,{count:{amount:{$set:n}}})}})}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.count,i=e.addCount,a=e.reduxCount;return t?f.a.createElement("div",{className:"text-center"},"Loading..."):f.a.createElement("div",{className:"text-center mt-4 mb-4"},"Current count, is ",n.amount,". This is being stored server-side in the database and using Apollo subscription for real-time updates.",f.a.createElement("br",null),f.a.createElement("br",null),f.a.createElement(C.Button,{id:"graphql-button",color:"primary",onClick:i(1)},"Click to increase count"),f.a.createElement("br",null),f.a.createElement("br",null),f.a.createElement("br",null),f.a.createElement("br",null),"Current reduxCount, is ",a,". This is being stored client-side with Redux.",f.a.createElement("br",null),f.a.createElement("br",null),f.a.createElement(C.Button,{id:"redux-button",color:"primary",value:"1",onClick:this.handleReduxIncrement.bind(this)},"Click to increase reduxCount"))}}]),t}(f.a.Component);D.propTypes={loading:b.a.bool.isRequired,count:b.a.object,updateCountQuery:b.a.func,onReduxIncrement:b.a.func,addCount:b.a.func.isRequired,subscribeToMore:b.a.func.isRequired,reduxCount:b.a.number.isRequired};var w=n.i(h.compose)(n.i(h.graphql)(E.a,{props:function(e){var t=e.data;return{loading:t.loading,count:t.count,subscribeToMore:t.subscribeToMore}}}),n.i(h.graphql)(N.a,{props:function(e){var t=e.ownProps,n=e.mutate;return{addCount:function(e){return function(){return n({variables:{amount:e},updateQueries:{getCount:function(e,t){var n=t.mutationResult,i=n.data.addCount.amount;return y()(e,{count:{amount:{$set:i}}})}},optimisticResponse:{__typename:"Mutation",addCount:{__typename:"Count",amount:t.count.amount+1}}})}}}}}))(D);t.a=n.i(k.connect)(function(e){return{reduxCount:e.counter.reduxCount}},function(e){return{onReduxIncrement:function(t){e({type:"COUNTER_INCREMENT",value:Number(t)})}}})(w)},function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(5),o=(n.n(r),n(42)),s=n(44),u=n(16);t.a=new u.a({route:a.a.createElement(r.Route,{exact:!0,path:"/",component:o.a}),reducer:{counter:s.a}})},function(e,t,n){"use strict";var i=n(8),a=n.n(i),r={reduxCount:1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case"COUNTER_INCREMENT":return a()({},e,{reduxCount:e.reduxCount+=t.value});default:return e}}},function(e,t,n){n(82);var i=n(102);i.keys().map(i)},function(e,t,n){"use strict";var i=n(8),a=n.n(i),r=n(0),o=n.n(r),s=n(3),u=n.n(s),l=n(19),c=(n.n(l),n(4)),d=(n.n(c),function(e){return e?void 0:"Required"}),m=function(e){var t=e.input,n=e.label,i=e.type,r=e.meta,s=r.touched,u=r.error,l="normal";return s&&u&&(l="danger"),o.a.createElement(c.FormGroup,{color:l},o.a.createElement(c.Input,a()({},t,{placeholder:n,type:i})),s&&u&&o.a.createElement(c.FormFeedback,null,u))};m.propTypes={input:u.a.object,label:u.a.string,type:u.a.string,meta:u.a.object};var p=function(e){var t=e.handleSubmit,n=e.submitting,i=e.initialValues,a=e.onSubmit,r="Add";return null!==i.id&&(r="Edit"),o.a.createElement(c.Form,{name:"comment",onSubmit:t(a)},o.a.createElement(c.FormGroup,null,o.a.createElement(c.Row,null,o.a.createElement(c.Col,{xs:"2"},o.a.createElement(c.Label,null,r," comment")),o.a.createElement(c.Col,{xs:"8"},o.a.createElement(l.Field,{name:"content",component:m,type:"text",label:"Content",validate:d})),o.a.createElement(c.Col,{xs:"2"},o.a.createElement(c.Button,{color:"primary",type:"submit",className:"float-right",disabled:n},"Submit")))))};p.propTypes={handleSubmit:u.a.func,initialValues:u.a.object,onSubmit:u.a.func,submitting:u.a.bool},t.a=n.i(l.reduxForm)({form:"comment",enableReinitialize:!0})(p)},function(e,t,n){"use strict";var i=n(14),a=n.n(i),r=n(11),o=n.n(r),s=n(10),u=n.n(s),l=n(1),c=n.n(l),d=n(2),m=n.n(d),p=n(13),f=n.n(p),v=n(12),b=n.n(v),k=n(0),h=n.n(k),g=n(3),y=n.n(g),C=n(15),x=(n.n(C),n(5)),E=(n.n(x),n(28)),S=n(86),N=n.n(S),I=n(29),P=this,D=function(e){function t(){return c()(this,t),f()(this,(t.__proto__||u()(t)).apply(this,arguments))}return b()(t,e),m()(t,[{key:"onSubmit",value:function(e){(0,this.props.addPost)(e.title,e.content)}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement(x.Link,{to:"/posts"},"Back"),h.a.createElement("h2",null,"Create Post"),h.a.createElement(E.a,{onSubmit:this.onSubmit.bind(this)}))}}]),t}(h.a.Component);D.propTypes={addPost:y.a.func.isRequired},t.a=n.i(C.compose)(n.i(C.graphql)(N.a,{props:function(e){var t=e.ownProps.history,i=e.mutate;return{addPost:function(){var e=o()(a.a.mark(function e(r,o){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({variables:{input:{title:r,content:o}},optimisticResponse:{addPost:{id:-1,title:r,content:o,__typename:"Post"}},updateQueries:{getPosts:function(e,t){var i=t.mutationResult.data.addPost;return n.i(I.b)(e,i)}}});case 2:return e.abrupt("return",t.push("/posts"));case 3:case"end":return e.stop()}},e,P)}));return function(t,n){return e.apply(this,arguments)}}()}}}))(D)},function(e,t,n){"use strict";function i(e,t){return null!==t.id&&e.post.comments.some(function(e){return t.id===e.id})?e:x()(e,{post:{comments:{$push:[t]}}})}function a(e,t){var n=e.post.comments.findIndex(function(e){return e.id===t});return n<0?e:x()(e,{post:{comments:{$splice:[[n,1]]}}})}var r=n(10),o=n.n(r),s=n(1),u=n.n(s),l=n(2),c=n.n(l),d=n(13),m=n.n(d),p=n(12),f=n.n(p),v=n(0),b=n.n(v),k=n(3),h=n.n(k),g=n(27),y=(n.n(g),n(15)),C=(n.n(y),n(26)),x=n.n(C),E=n(19),S=(n.n(E),n(4)),N=(n.n(S),n(46)),I=n(87),P=n.n(I),D=n(89),w=n.n(D),_=n(88),q=n.n(_),F=n(90),T=n.n(F),R=function(e){function t(e){u()(this,t);var n=m()(this,(t.__proto__||o()(t)).call(this,e));return n.subscribeToCommentList=function(e){var t=n.props.subscribeToMore;n.subscription=t({document:T.a,variables:{postId:e},updateQuery:function(e,t){var n=t.subscriptionData.data.commentUpdated,r=n.mutation,o=n.id,s=n.node,u=e;return"CREATED"===r?u=i(e,s):"DELETED"===r&&(u=a(e,o)),u}})},e.onCommentSelect({id:null,content:""}),n.subscription=null,n}return f()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){this.subscription&&this.props.postId!==e.postId&&(this.subscription=null),this.subscription||this.subscribeToCommentList(e.postId)}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription()}},{key:"renderComments",value:function(){var e=this,t=this.props,n=t.comments,i=t.onCommentSelect;return n.map(function(t){var n=t.id,a=t.content;return b.a.createElement(S.ListGroupItem,{className:"justify-content-between",key:n},a,b.a.createElement("div",null,b.a.createElement("span",{className:"badge badge-default badge-pill edit-comment",onClick:function(){return i({id:n,content:a})}},"Edit"),b.a.createElement("span",{className:"badge badge-default badge-pill delete-comment",onClick:function(){return e.onCommentDelete(n)}},"Delete")))})}},{key:"onCommentDelete",value:function(e){var t=this.props,n=t.comment,i=t.deleteComment,a=t.onCommentSelect;n.id===e&&a({id:null,content:""}),i(e)}},{key:"onSubmit",value:function(e){var t=this.props,n=t.addComment,i=t.editComment,a=t.postId,r=t.comment,o=t.onCommentSelect,s=t.onFormSubmitted;null===r.id?n(e.content,a):i(r.id,e.content),o({id:null,content:""}),s()}},{key:"render",value:function(){var e=this.props,t=e.postId,n=e.comment;return b.a.createElement("div",null,b.a.createElement("h3",null,"Comments"),b.a.createElement(N.a,{postId:t,onSubmit:this.onSubmit.bind(this),initialValues:n}),b.a.createElement("h1",null),b.a.createElement(S.ListGroup,null,this.renderComments()))}}]),t}(b.a.Component);R.propTypes={postId:h.a.string.isRequired,comments:h.a.array.isRequired,comment:h.a.object.isRequired,addComment:h.a.func.isRequired,editComment:h.a.func.isRequired,deleteComment:h.a.func.isRequired,onCommentSelect:h.a.func.isRequired,onFormSubmitted:h.a.func.isRequired,subscribeToMore:h.a.func.isRequired};var M=n.i(y.compose)(n.i(y.graphql)(P.a,{props:function(e){var t=e.mutate;return{addComment:function(e,n){return t({variables:{input:{content:e,postId:n}},optimisticResponse:{addComment:{id:-1,content:e,__typename:"Comment"}},updateQueries:{getPost:function(e,t){return i(e,t.mutationResult.data.addComment)}}})}}}}),n.i(y.graphql)(w.a,{props:function(e){var t=e.ownProps.postId,n=e.mutate;return{editComment:function(e,i){return n({variables:{input:{id:e,postId:t,content:i}},optimisticResponse:{__typename:"Mutation",editComment:{id:e,content:i,__typename:"Comment"}}})}}}}),n.i(y.graphql)(q.a,{props:function(e){var t=e.ownProps.postId,n=e.mutate;return{deleteComment:function(e){return n({variables:{input:{id:e,postId:t}},optimisticResponse:{__typename:"Mutation",deleteComment:{id:e,__typename:"Comment"}},updateQueries:{getPost:function(e,t){return a(e,t.mutationResult.data.deleteComment.id)}}})}}}}))(R);t.a=n.i(g.connect)(function(e){return{comment:e.post.comment}},function(e){return{onCommentSelect:function(t){e({type:"COMMENT_SELECT",value:t})},onFormSubmitted:function(){e(n.i(E.reset)("comment"))}}})(M)},function(e,t,n){"use strict";var i=n(14),a=n.n(i),r=n(11),o=n.n(r),s=n(10),u=n.n(s),l=n(1),c=n.n(l),d=n(2),m=n.n(d),p=n(13),f=n.n(p),v=n(12),b=n.n(v),k=n(0),h=n.n(k),g=n(3),y=n.n(g),C=n(15),x=(n.n(C),n(5)),E=(n.n(x),n(28)),S=n(48),N=n(93),I=n.n(N),P=n(92),D=n.n(P),w=n(94),_=n.n(w),q=this,F=function(e){function t(e){c()(this,t);var n=f()(this,(t.__proto__||u()(t)).call(this,e));return n.subscribeToPostEdit=function(e){var t=n.props.subscribeToMore;n.subscription=t({document:_.a,variables:{id:e}})},n.subscription=null,n}return b()(t,e),m()(t,[{key:"componentWillReceiveProps",value:function(e){e.loading||(this.subscription&&this.props.post.id!==e.post.id&&(this.subscription(),this.subscription=null),this.subscription||this.subscribeToPostEdit(e.post.id))}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription()}},{key:"onSubmit",value:function(e){var t=this.props,n=t.post;(0,t.editPost)(n.id,e.title,e.content)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.post,i=e.match,a=e.subscribeToMore;return t?h.a.createElement("div",null):h.a.createElement("div",null,h.a.createElement(x.Link,{id:"back-button",to:"/posts"},"Back"),h.a.createElement("h2",null,"Edit Post"),h.a.createElement(E.a,{onSubmit:this.onSubmit.bind(this),initialValues:n}),h.a.createElement("br",null),h.a.createElement(S.a,{postId:i.params.id,comments:n.comments,subscribeToMore:a}))}}]),t}(h.a.Component);F.propTypes={loading:y.a.bool.isRequired,post:y.a.object,editPost:y.a.func.isRequired,match:y.a.object.isRequired,subscribeToMore:y.a.func.isRequired},t.a=n.i(C.compose)(n.i(C.graphql)(I.a,{options:function(e){return{variables:{id:e.match.params.id}}},props:function(e){var t=e.data;return{loading:t.loading,post:t.post,subscribeToMore:t.subscribeToMore}}}),n.i(C.graphql)(D.a,{props:function(e){var t=e.ownProps.history,n=e.mutate;return{editPost:function(){var e=o()(a.a.mark(function e(i,r,o){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{input:{id:i,title:r,content:o}}});case 2:return e.abrupt("return",t.push("/posts"));case 3:case"end":return e.stop()}},e,q)}));return function(t,n,i){return e.apply(this,arguments)}}()}}}))(F)},function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(5),o=(n.n(r),n(4)),s=(n.n(o),n(29)),u=n(47),l=n(49),c=n(51),d=n(16);new d.a({route:[a.a.createElement(r.Route,{exact:!0,path:"/posts",component:s.a}),a.a.createElement(r.Route,{exact:!0,path:"/post/add",component:u.a}),a.a.createElement(r.Route,{exact:!0,path:"/post/:id",component:l.a})],navItem:a.a.createElement(o.NavItem,null,a.a.createElement(r.Link,{to:"/posts",className:"nav-link"},"Posts")),reducer:{post:c.a}})},function(e,t,n){"use strict";var i=n(8),a=n.n(i),r={comment:{id:null,content:""}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case"COMMENT_SELECT":return a()({},e,{comment:t.value});default:return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var i=n(106),a=n.n(i),r=n(32),o=n.n(r),s=n(10),u=n.n(s),l=n(1),c=n.n(l),d=n(2),m=n.n(d),p=n(13),f=n.n(p),v=n(12),b=n.n(v),k=n(0),h=n.n(k),g=n(3),y=(n.n(g),n(27)),C=(n.n(y),n(4)),x=(n.n(C),n(117)),E=n.n(x),S=n(103),N=n.n(S),I=function(e){function t(e){c()(this,t);var n=f()(this,(t.__proto__||u()(t)).call(this,e));return n.API_KEY="46ddd9c3c6a545d0d62e60754768e38d",n.onCityEnter=n.onCityEnter.bind(n),n.state={metric:"imperial",lat:0,lon:0,currentData:{city:{name:"",country:""},main:{temp:"",temp_max:"",temp_min:""},weather:[{description:"",main:""}]},weatherData:{city:{name:"",country:""},list:[]},forecastData:[]},n}return b()(t,e),m()(t,[{key:"componentWillMount",value:function(){this.getLocation()}},{key:"getLocation",value:function(){var e=this;if(navigator){var t=navigator.geolocation;new o.a(function(n,i){t.getCurrentPosition(function(t){e.setState({lat:t.coords.latitude,lon:t.coords.longitude}),e.getWeatherForecast(e.state.lat,e.state.lon,e.state.metric)},function(){i(new Error("Permission denied"))})})}else console.log("sorry but this didnt work")}},{key:"getCityData",value:function(e){var t=this,n="http://api.openweathermap.org/data/2.5/weather?q="+e+"&appid="+this.API_KEY+"&units="+this.state.metric;N.a.get(n).then(function(e){if("200"!==e.data.cod&&e.data.message)throw new Error(e.data.message);return t.setState({lat:e.data.coord.lat,lon:e.data.coord.lon}),t.getWeatherForecast(e.data.coord.lat,e.data.coord.lon,t.state.metric),e.data},function(e){throw new Error(e.data.message)})}},{key:"getCurrentWeather",value:function(e,t){var n=this,i="http://api.openweathermap.org/data/2.5/weather?lat="+e+"&lon="+t+"&appid="+this.API_KEY+"&units="+this.state.metric;N.a.get(i).then(function(e){if("200"!==e.data.cod&&e.data.message)throw new Error(e.data.message);return n.setState({currentData:e.data}),e.data},function(e){throw new Error(e.data.message)})}},{key:"renderCurrentWeather",value:function(){return h.a.createElement("div",null,h.a.createElement("h2",null,h.a.createElement("i",{className:"fa fa-cloud"})," Today's Forecast"),h.a.createElement("ul",{className:"current-day list-unstyled"},h.a.createElement("li",{className:"card"},h.a.createElement("div",{className:"container",style:mainCardStyle},h.a.createElement("label",{className:"title"},E.a.unix(this.state.currentData.dt).format("ddd")),h.a.createElement("label",{className:"number"},Math.round(this.state.currentData.main.temp)),h.a.createElement("label",null,this.state.currentData.weather[0].main),h.a.createElement("label",null,h.a.createElement("i",{className:"fa fa-chevron-up"})," ",Math.round(this.state.currentData.main.temp_max)),h.a.createElement("label",null,h.a.createElement("i",{className:"fa fa-chevron-down"})," ",Math.round(this.state.currentData.main.temp_min))))))}},{key:"getWeatherForecast",value:function(e,t,n){var i=this,a="http://api.openweathermap.org/data/2.5/forecast/daily?lat="+e+"&lon="+t+"&appid="+this.API_KEY+"&units="+n+"&cnt=5";N.a.get(a).then(function(e){if("200"!==e.data.cod&&e.data.message)throw new Error(e.data.message);var t=[];return e.data.list.map(function(e,n){t.push(e)}),i.setState({weatherData:e.data,forecastData:t}),e.data},function(e){throw new Error(e.data.message)})}},{key:"onCityEnter",value:function(e){e.preventDefault();var t=this.refs.city.value;this.getCityData(t),this.refs.city.value=""}},{key:"renderCityForm",value:function(){return h.a.createElement("div",{className:"city"},h.a.createElement("h2",null,h.a.createElement("i",{className:"fa fa-globe"})," Enter a City"),h.a.createElement("form",{id:"frmChat",role:"form",onSubmit:this.onCityEnter},h.a.createElement("input",{type:"city",className:"form-control",id:"txtCity",ref:"city",placeholder:"Enter a city...",name:"city"})))}},{key:"toggleIsActive",value:function(e){return e===this.state.metric?"active":""}},{key:"toggleMetric",value:function(e){this.setState({metric:e}),this.getWeatherForecast(this.state.lat,this.state.lon,e)}},{key:"renderMetricToggle",value:function(){var e=this;this.state.forecastData.length;return h.a.createElement("ul",{className:"toggle list-unstyled"},h.a.createElement("li",{className:this.toggleIsActive("imperial"),onClick:function(){return e.toggleMetric("imperial")}},"F"),h.a.createElement("li",{className:this.toggleIsActive("metric"),onClick:function(){return e.toggleMetric("metric")}},"C"))}},{key:"renderWeatherForecast",value:function(){var e={width:100/this.state.forecastData.length+"%"};if(this.state.forecastData.length>0)return h.a.createElement("div",{className:"forecast clearfix"},h.a.createElement("div",{className:"header"},h.a.createElement("h1",null,h.a.createElement("i",{className:"fa fa-map-marker"})," ",this.state.weatherData.city.name),this.renderMetricToggle()),h.a.createElement("h2",null,h.a.createElement("i",{className:"fa fa-cloud"})," 5 Day Forecast"),h.a.createElement("ul",{className:"day list-unstyled"},this.state.forecastData.map(function(t){var n=E.a.unix(t.dt).format("ddd"),i=a()({background:"-webkit-linear-gradient(#43cff3, #e56363 "+(100-t.temp.day)+"%)"},"background","linear-gradient(#43cff3, #e56363 "+(100-t.temp.day)+"%)");return h.a.createElement("li",{key:t.dt,className:"card",style:e},h.a.createElement("div",{className:"container",style:i},h.a.createElement("label",{className:"title"},n),h.a.createElement("label",{className:"number"},Math.round(t.temp.day)),h.a.createElement("label",null,t.weather[0].main),h.a.createElement("label",null,h.a.createElement("i",{className:"fa fa-chevron-up"})," ",Math.round(t.temp.max)),h.a.createElement("label",null,h.a.createElement("i",{className:"fa fa-chevron-down"})," ",Math.round(t.temp.min))))})))}},{key:"render",value:function(){return h.a.createElement("div",{className:"weather text-center mt-4 mb-4 container"},this.renderCityForm(),this.renderWeatherForecast())}}]),t}(h.a.Component)},function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(5),o=(n.n(r),n(4)),s=(n.n(o),n(52)),u=n(54),l=n(16);t.a=new l.a({route:a.a.createElement(r.Route,{exact:!0,path:"/weather",component:s.a}),navItem:a.a.createElement(o.NavItem,null,a.a.createElement(r.Link,{to:"/weather",className:"nav-link"},"Weather")),reducer:{weather:u.a}})},function(e,t,n){"use strict";var i=n(8),a=n.n(i),r={reduxCount:1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case"COUNTER_INCREMENT":return a()({},e,{reduxCount:e.reduxCount+=t.value});default:return e}}},function(e,t,n){"use strict";var i=n(31),a=n.n(i),r=function(e){var t={dataIdFromObject:function(e){return e.id&&e.__typename?e.__typename+e.id:null},networkInterface:e};return t.ssrMode=!0,new a.a(t)};t.a=r},function(e,t,n){"use strict";var i=n(8),a=n.n(i),r=n(124),o=(n.n(r),n(123)),s=(n.n(o),n(19)),u=(n.n(s),n(125)),l=(n.n(u),n(20)),c=function(e,t,i){return n.i(r.createStore)(n.i(r.combineReducers)(a()({apollo:t.reducer(),router:o.routerReducer,form:s.reducer},l.a.reducers)),e,i?n.i(u.composeWithDevTools)(n.i(r.applyMiddleware)(t.middleware(),i)):n.i(r.applyMiddleware)(t.middleware()))};t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i,a=n(127),r=(n.n(a),n(34)),o=(n.n(r),n(24)),s=(n.n(o),n(30)),u=n(22),l=(n(6),n(7)),c=(n.n(l),new r.SubscriptionManager({schema:s.a,pubsub:s.b,setupFunctions:u.a.subscriptionsSetups})),d=l.app.apolloLogging?n.i(o.addApolloLogging)(c):c,m=function(e){var t={server:e,path:"/"};i=new a.SubscriptionServer({subscriptionManager:d},t)},p=function(e){m(e)}},function(e,t,n){"use strict";var i=n(8),a=n.n(i),r=n(110),o=n.n(r),s=n(108),u=n.n(s),l=n(113),c=n.n(l),d=n(18),m=(n.n(d),n(98)),p=n.n(m),f=n(62),v=n(59),b=n(60),k=n(57),h=n(7),g=(n.n(h),n(6)),y=void 0,C=o()(),x=process.env.PORT||h.app.apiPort;if(C.enable("trust proxy"),C.use(u.a.urlencoded({extended:!0})),C.use(u.a.json()),C.use("/",o.a.static(h.app.frontendBuildDir,{maxAge:"180 days"})),h.app.persistGraphQL){var E=n.i(d.invert)(p.a);C.use("/graphql",function(e,t,i){n.i(d.isArray)(e.body)?(e.body=e.body.map(function(e){return a()({query:E[e.id]},e)}),i()):t.status(500).send("Unknown GraphQL query has been received, rejecting...")})}C.use("/graphql",function(){return b.a.apply(void 0,arguments)}),C.use("/graphiql",function(){return v.a.apply(void 0,arguments)}),C.use(function(){return n.i(f.a)(p.a).apply(void 0,arguments)}),y=c.a.createServer(C),n.i(k.a)(y),y.listen(x,function(){g.a.info("API is now running on port "+x)}),y.on("close",function(){y=void 0})},function(e,t,n){"use strict";var i=n(33),a=(n.n(i),n(7)),r=(n.n(a),process.env.PORT||a.app.apiPort),o="ws://localhost:"+r;t.a=n.i(i.graphiqlExpress)({endpointURL:"/graphql",subscriptionsEndpoint:o,query:"{\n  count {\n    amount\n  }\n}"})},function(e,t,n){"use strict";var i=n(33),a=(n.n(i),n(114)),r=(n.n(a),n(6)),o=n(30),s=n(22);t.a=n.i(i.graphqlExpress)(function(){try{return{schema:o.a,context:s.a.createContext()}}catch(e){n.i(r.a)(e.stack)}})},function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(3),o=n.n(r),s=n(126),u=n.n(s),l=n(97),c=(n.n(l),function(e){var t=e.content,n=e.state,i=e.assetMap,r=e.css;return a.a.createElement("html",{lang:"en"},a.a.createElement("head",null,a.a.createElement("meta",{charSet:"utf-8"}),a.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),a.a.createElement("title",null,"Apollo Fullstack Starter Kit"),a.a.createElement("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/"+i["apple-touch-icon.png"]}),a.a.createElement("link",{rel:"icon",type:"image/png",href:"/"+i["favicon-32x32.png"],sizes:"32x32"}),a.a.createElement("link",{rel:"icon",type:"image/png",href:"/"+i["favicon-16x16.png"],sizes:"16x16"}),a.a.createElement("link",{rel:"manifest",href:"/"+i["manifest.json"]}),a.a.createElement("link",{rel:"mask-icon",href:"/"+i["safari-pinned-tab.svg"],color:"#5bbad5"}),a.a.createElement("link",{rel:"shortcut icon",href:"/"+i["favicon.ico"]}),a.a.createElement("meta",{name:"msapplication-config",content:"/"+i["browserconfig.xml"]}),a.a.createElement("meta",{name:"theme-color",content:"#ffffff"}),a.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"/"+i["bundle.css"]}),!1,!!r&&r),a.a.createElement("body",null,a.a.createElement("div",{id:"content",dangerouslySetInnerHTML:{__html:t||""}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"window.__APOLLO_STATE__="+u()(n,{isJSON:!0})+";"},charSet:"UTF-8"}),i["vendor.js"]&&a.a.createElement("script",{src:"/"+i["vendor.js"],charSet:"utf-8"}),a.a.createElement("script",{src:"/"+i["bundle.js"],charSet:"utf-8"})))});c.propTypes={content:o.a.string,state:o.a.object.isRequired,assetMap:o.a.object.isRequired,css:o.a.array},t.a=c},function(e,t,n){"use strict";var i=n(14),a=n.n(i),r=n(104),o=n.n(r),s=n(11),u=n.n(s),l=n(0),c=n.n(l),d=n(121),m=n.n(d),p=n(31),f=(n.n(p),n(15)),v=(n.n(f),n(122)),b=(n.n(v),n(35)),k=(n.n(b),n(24)),h=(n.n(k),n(120)),g=(n.n(h),n(111)),y=n.n(g),C=n(118),x=n.n(C),E=n(55),S=n(56),N=n(61),I=n(41),P=n(6),D=n(7),w=(n.n(D),this),_=function(){var e=u()(a.a.mark(function e(t,i,r){var s,u,l,d,g,C,P,w,_,q,F;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.i(p.createBatchingNetworkInterface)({uri:T,opts:{credentials:"same-origin",headers:t.headers},batchInterval:20}),D.app.persistGraphQL&&(s=n.i(h.addPersistedQueries)(s,r)),D.app.apolloLogging&&(s=n.i(k.addApolloLogging)(s)),u=n.i(E.a)(s),l={},d=n.i(S.a)(l,u),g={},C=c.a.createElement(f.ApolloProvider,{store:d,client:u},c.a.createElement(v.StaticRouter,{location:t.url,context:g},I.a)),e.next=10,n.i(f.getDataFromTree)(C);case 10:i.status(200),P=new b.ServerStyleSheet,w=m.a.renderToString(P.collectStyles(C)),_=P.getStyleElement(),g.url?(i.writeHead(301,{Location:g.url}),i.end()):(R||(R=JSON.parse(y.a.readFileSync(x.a.join(D.app.frontendBuildDir,"assets.json")))),q=o()({},u.store.getState()),delete q.apollo.queries,delete q.apollo.mutations,F=c.a.createElement(N.a,{content:w,state:q,assetMap:R,css:_}),i.send("<!doctype html>\n"+m.a.renderToStaticMarkup(F)),i.end());case 15:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}(),q=function(){var e=u()(a.a.mark(function e(t,n){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:R||(R=JSON.parse(y.a.readFileSync(x.a.join(D.app.frontendBuildDir,"assets.json")))),i=c.a.createElement(N.a,{state:{},assetMap:R}),n.send("<!doctype html>\n"+m.a.renderToStaticMarkup(i)),n.end();case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),F=process.env.PORT||D.app.apiPort,T="http://localhost:"+F+"/graphql",R=void 0;t.a=function(e){return function(){var t=u()(a.a.mark(function t(n,i,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(n.url.indexOf(".")<0)){t.next=9;break}return t.abrupt("return",_(n,i,e));case 6:return t.abrupt("return",q(n,i));case 7:t.next=10;break;case 9:return t.abrupt("return",r());case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),P.a.error("RENDERING ERROR:",t.t0);case 15:case"end":return t.stop()}},t,w,[[0,12]])}));return function(e,n,i){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";var i=n(65),a=n(100),r=n.n(a),o=n(64),s=n(66),u=n(21);t.a=new u.a({schema:r.a,createResolversFunc:o.a,subscriptionsSetup:s.a,createContextFunc:function(){return{Count:new i.a}}})},function(e,t,n){"use strict";var i=n(14),a=n.n(i),r=n(11),o=n.n(r);t.a=function(e){return{Query:{count:function(e,t,n){return n.Count.getCount()}},Mutation:{addCount:function(t,n,i){var r=this,s=n.amount;return o()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Count.addCount(s);case 2:return t.next=4,i.Count.getCount();case 4:return n=t.sent,e.publish("countUpdated",n),t.abrupt("return",n);case 7:case"end":return t.stop()}},t,r)}))()}},Subscription:{countUpdated:function(e){return e}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(1),a=n.n(i),r=n(2),o=n.n(r),s=n(23),u=function(){function e(){a()(this,e)}return o()(e,[{key:"getCount",value:function(){return n.i(s.a)("count").first()}},{key:"addCount",value:function(e){return n.i(s.a)("count").increment("amount",e)}}]),e}()},function(e,t,n){"use strict";t.a={countUpdated:function(){return{countUpdated:{filter:function(){return!0}}}}}},function(e,t,n){"use strict";var i=n(105),a=(n.n(i),n(119)),r=(n.n(a),n(7));n.n(r),n(23),n(6)},function(e,t,n){"use strict";var i=n(109),a=n.n(i),r=n(70),o=n(101),s=n.n(o),u=n(69),l=n(71),c=n(21);t.a=new c.a({schema:s.a,createResolversFunc:u.a,subscriptionsSetup:l.a,createContextFunc:function(){var e=new r.a;return{Post:e,loaders:{getCommentsForPostIds:new a.a(e.getCommentsForPostIds)}}}})},function(e,t,n){"use strict";var i=n(107),a=n.n(i),r=n(14),o=n.n(r),s=n(32),u=n.n(s),l=n(11),c=n.n(l);t.a=function(e){return{Query:{postsQuery:function(e,t,n){var i=this,a=t.limit,r=t.after;return c()(o.a.mark(function e(){var t,s,l,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,n.Post.getPostsPagination(a,r);case 3:return s=e.sent,s.map(function(e){t.push({cursor:e.id,node:{id:e.id,title:e.title,content:e.content}})}),l=t.length>0?t[t.length-1].cursor:0,e.next=8,u.a.all([n.Post.getTotal(),n.Post.getNextPageFlag(l)]);case 8:return c=e.sent,e.abrupt("return",{totalCount:c[0].count,edges:t,pageInfo:{endCursor:l,hasNextPage:c[1].count>0}});case 10:case"end":return e.stop()}},e,i)}))()},post:function(e,t,n){var i=t.id;return n.Post.getPost(i)}},Post:{comments:function(e,t,n){var i=e.id;return n.loaders.getCommentsForPostIds.load(i)}},Mutation:{addPost:function(t,n,i){var r=this,s=n.input;return c()(o.a.mark(function t(){var n,u,l,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Post.addPost(s);case 2:return n=t.sent,u=a()(n,1),l=u[0],t.next=7,i.Post.getPost(l);case 7:return c=t.sent,e.publish("postsUpdated",{mutation:"CREATED",id:l,node:c}),t.abrupt("return",c);case 10:case"end":return t.stop()}},t,r)}))()},deletePost:function(t,n,i){var a=this,r=n.id;return c()(o.a.mark(function t(){var n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Post.getPost(r);case 2:return n=t.sent,t.next=5,i.Post.deletePost(r);case 5:if(!(s=t.sent)){t.next=11;break}return e.publish("postsUpdated",{mutation:"DELETED",id:r,node:n}),t.abrupt("return",{id:n.id});case 11:return t.abrupt("return",{id:null});case 12:case"end":return t.stop()}},t,a)}))()},editPost:function(t,n,i){var a=this,r=n.input;return c()(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Post.editPost(r);case 2:return t.next=4,i.Post.getPost(r.id);case 4:return n=t.sent,e.publish("postsUpdated",{mutation:"UPDATED",id:n.id,node:n}),e.publish("postUpdated",n),t.abrupt("return",n);case 8:case"end":return t.stop()}},t,a)}))()},addComment:function(t,n,i){var r=this,s=n.input;return c()(o.a.mark(function t(){var n,u,l,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Post.addComment(s);case 2:return n=t.sent,u=a()(n,1),l=u[0],t.next=7,i.Post.getComment(l);case 7:return c=t.sent,e.publish("commentUpdated",{mutation:"CREATED",id:c.id,postId:s.postId,node:c}),t.abrupt("return",c);case 10:case"end":return t.stop()}},t,r)}))()},deleteComment:function(t,n,i){var a=this,r=n.input,s=r.id,u=r.postId;return c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Post.deleteComment(s);case 2:return e.publish("commentUpdated",{mutation:"DELETED",id:s,postId:u,node:null}),t.abrupt("return",{id:s});case 4:case"end":return t.stop()}},t,a)}))()},editComment:function(t,n,i){var a=this,r=n.input;return c()(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Post.editComment(r);case 2:return t.next=4,i.Post.getComment(r.id);case 4:return n=t.sent,e.publish("commentUpdated",{mutation:"UPDATED",id:r.id,postId:r.postId,node:n}),t.abrupt("return",n);case 7:case"end":return t.stop()}},t,a)}))()}},Subscription:{postUpdated:function(e){return e},postsUpdated:function(e){return e},commentUpdated:function(e){return e}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var i=n(14),a=n.n(i),r=n(11),o=n.n(r),s=n(1),u=n.n(s),l=n(2),c=n.n(l),d=n(18),m=n.n(d),p=n(23),f=function(e,t,n,i){var a=m.a.groupBy(e,n);return t.map(function(e){var t=a[e];return t?i?t[0]:t:i?{}:[]})},v=function(){function e(){u()(this,e)}return c()(e,[{key:"getPostsPagination",value:function(e,t){var n="";return t>0&&(n="id < "+t),p.a.select("id","title","content").from("post").whereRaw(n).orderBy("id","desc").limit(e)}},{key:"getCommentsForPostIds",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.select("id","content","post_id AS postId").from("comment").whereIn("post_id",t);case 2:return n=e.sent,e.abrupt("return",f(n,t,"postId",!1));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getTotal",value:function(){return n.i(p.a)("post").count("id as count").first()}},{key:"getNextPageFlag",value:function(e){return n.i(p.a)("post").count("id as count").where("id","<",e).first()}},{key:"getPost",value:function(e){return p.a.select("id","title","content").from("post").where("id","=",e).first()}},{key:"addPost",value:function(e){var t=e.title,i=e.content;return n.i(p.a)("post").insert({title:t,content:i}).returning("id")}},{key:"deletePost",value:function(e){return n.i(p.a)("post").where("id","=",e).del()}},{key:"editPost",value:function(e){var t=e.id,i=e.title,a=e.content;return n.i(p.a)("post").where("id","=",t).update({title:i,content:a})}},{key:"addComment",value:function(e){var t=e.content,i=e.postId;return n.i(p.a)("comment").insert({content:t,post_id:i}).returning("id")}},{key:"getComment",value:function(e){return p.a.select("id","content").from("comment").where("id","=",e).first()}},{key:"deleteComment",value:function(e){return n.i(p.a)("comment").where("id","=",e).del()}},{key:"editComment",value:function(e){var t=e.id,i=e.content;return n.i(p.a)("comment").where("id","=",t).update({content:i})}}]),e}()},function(e,t,n){"use strict";t.a={postUpdated:function(e,t){return{postUpdated:{filter:function(e){return t.id==e.id}}}},postsUpdated:function(e,t){return{postsUpdated:{filter:function(e){return t.endCursor<=e.id}}}},commentUpdated:function(e,t){return{commentUpdated:{filter:function(e){return t.postId===e.postId}}}}}},function(e,t,n){e.exports=n.p+"e839956adee7ef4dd529c13fb2976815.png"},function(e,t,n){e.exports=n.p+"2cf4795b437543bf4ccac41f66ad9ece.png"},function(e,t,n){e.exports=n.p+"c73151e93faafb3a90992818a0d3e0b3.png"},function(e,t,n){e.exports=n.p+"c19724cfb965a1d50be44057beea825f.xml"},function(e,t,n){e.exports=n.p+"c61128926c4740997fb2bb7ef193baac.png"},function(e,t,n){e.exports=n.p+"a524cbba85060bc7b90fb3c2f071c856.png"},function(e,t,n){e.exports=n.p+"ec4b805f1a742bdd9f60157986957679.ico"},function(e,t,n){e.exports=n.p+"a96402b6a4add55f58d514d9aef3a9ad.json"},function(e,t,n){e.exports=n.p+"21d1ca52a9067811425eb616d2fe26c9.png"},function(e,t,n){e.exports=n.p+"340d40a83a2cbebf7d0439133f65379c.svg"},function(e,t,n){e.exports=n.p+"favicon.ico"},function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"addCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"amount"},arguments:[],directives:[],selectionSet:null}]}}]}}],loc:{start:0,end:92}};n.loc.source={body:"mutation addCount(\n$amount: Int!\n) {\n    addCount(amount: $amount) {\n        amount\n    }\n}\n",name:"GraphQL"};e.exports=n},function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getCount"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"count"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"amount"},arguments:[],directives:[],selectionSet:null}]}}]}}],loc:{start:0,end:52}};n.loc.source={body:"query getCount {\n    count {\n        amount\n    }\n}\n",name:"GraphQL"};e.exports=n},function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"onCountUpdated"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"countUpdated"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"amount"},arguments:[],directives:[],selectionSet:null}]}}]}}],loc:{start:0,end:72}};n.loc.source={body:"subscription onCountUpdated {\n    countUpdated {\n        amount\n    }\n}\n",name:"GraphQL"};e.exports=n},function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPostInput"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"addPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostInfo"},directives:[]}]}}]}}],loc:{start:0,end:126}};i.loc.source={body:'#import "./post.graphql"\n\nmutation addPost($input: AddPostInput!) {\n    addPost(input: $input) {\n        ... PostInfo\n    }\n}\n',name:"GraphQL"};var a={};i.definitions=i.definitions.concat(function(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})}(n(9).definitions)),e.exports=i},function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentInfo"},directives:[]}]}}]}}],loc:{start:0,end:141}};i.loc.source={body:'#import "./comment.graphql"\n\nmutation addComment($input: AddCommentInput!) {\n    addComment(input: $input) {\n        ... CommentInfo\n    }\n}\n',name:"GraphQL"};var a={};i.definitions=i.definitions.concat(function(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})}(n(17).definitions)),e.exports=i},function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteCommentInput"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"deleteComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:null}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"mutation deleteComment($input: DeleteCommentInput!) {\n    deleteComment(input: $input) {\n        id\n    }\n}\n",name:"GraphQL"};e.exports=n},function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"editComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EditCommentInput"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"editComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentInfo"},directives:[]}]}}]}}],loc:{start:0,end:144}};i.loc.source={body:'#import "./comment.graphql"\n\nmutation editComment($input: EditCommentInput!) {\n    editComment(input: $input) {\n        ... CommentInfo\n    }\n}\n',name:"GraphQL"};var a={};i.definitions=i.definitions.concat(function(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})}(n(17).definitions)),e.exports=i},function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"onCommentUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"commentUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"mutation"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"postId"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentInfo"},directives:[]}]}}]}}]}}],loc:{start:0,end:217}};i.loc.source={body:'#import "./comment.graphql"\n\nsubscription onCommentUpdated($postId: ID!) {\n    commentUpdated(postId: $postId) {\n        mutation\n        id\n        postId\n        node {\n            ... CommentInfo\n        }\n    }\n}\n',name:"GraphQL"};var a={};i.definitions=i.definitions.concat(function(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})}(n(17).definitions)),e.exports=i},function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deletePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"deletePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:null}]}}]}}],loc:{start:0,end:76}};n.loc.source={body:"mutation deletePost($id: ID!) {\n    deletePost(id: $id) {\n        id\n    }\n}",name:"GraphQL"};e.exports=n},function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"editPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EditPostInput"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"editPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostInfo"},directives:[]}]}}]}}],loc:{start:0,end:129}};i.loc.source={body:'#import "./post.graphql"\n\nmutation editPost($input: EditPostInput!) {\n    editPost(input: $input) {\n        ... PostInfo\n    }\n}\n',name:"GraphQL"};var a={};i.definitions=i.definitions.concat(function(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})}(n(9).definitions)),e.exports=i},function(e,t,n){function i(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})}var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostInfo"},directives:[]},{kind:"Field",alias:null,name:{kind:"Name",value:"comments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentInfo"},directives:[]}]}}]}}]}}],loc:{start:0,end:186}};a.loc.source={body:'#import "./post.graphql"\n#import "./comment.graphql"\n\nquery getPost($id: ID!) {\n    post(id: $id) {\n        ... PostInfo\n        comments {\n            ... CommentInfo\n        }\n    }\n}\n',name:"GraphQL"};var r={};a.definitions=a.definitions.concat(i(n(9).definitions)),a.definitions=a.definitions.concat(i(n(17).definitions)),e.exports=a},function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"onPostUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"postUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostInfo"},directives:[]}]}}]}}],loc:{start:0,end:121}};i.loc.source={body:'#import "./post.graphql"\n\nsubscription onPostUpdated($id: ID!) {\n    postUpdated(id: $id) {\n        ... PostInfo\n    }\n}\n',name:"GraphQL"};var a={};i.definitions=i.definitions.concat(function(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})}(n(9).definitions)),e.exports=i},function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPosts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},defaultValue:null},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"postsQuery"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"totalCount"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostInfo"},directives:[]}]}}]}},{kind:"Field",alias:null,name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"endCursor"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[],selectionSet:null}]}}]}}]}}],loc:{start:0,end:325}};i.loc.source={body:'#import "./post.graphql"\n\nquery getPosts($limit: Int!, $after: ID) {\n    postsQuery(limit: $limit, after: $after) {\n        totalCount\n        edges {\n            cursor\n            node {\n                ... PostInfo\n            }\n        }\n        pageInfo {\n            endCursor\n            hasNextPage\n        }\n    }\n}\n',name:"GraphQL"};var a={};i.definitions=i.definitions.concat(function(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})}(n(9).definitions)),e.exports=i},function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"onPostUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"endCursor"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"postsUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"endCursor"},value:{kind:"Variable",name:{kind:"Name",value:"endCursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"mutation"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostInfo"},directives:[]}]}}]}}]}}],loc:{start:0,end:189}};i.loc.source={body:'#import "./post.graphql"\n\nsubscription onPostUpdated($endCursor: ID!) {\n    postsUpdated(endCursor: $endCursor) {\n        mutation\n        node {\n            ... PostInfo\n        }\n    }\n}\n',name:"GraphQL"};var a={};i.definitions=i.definitions.concat(function(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})}(n(9).definitions)),e.exports=i},function(e,t){},function(e,t){e.exports={"mutation addComment($input: AddCommentInput!) {\n  addComment(input: $input) {\n    ...CommentInfo\n    __typename\n  }\n}\n\nfragment CommentInfo on Comment {\n  id\n  content\n  __typename\n}\n":1,"mutation addCount($amount: Int!) {\n  addCount(amount: $amount) {\n    amount\n    __typename\n  }\n}\n":2,"mutation addPost($input: AddPostInput!) {\n  addPost(input: $input) {\n    ...PostInfo\n    __typename\n  }\n}\n\nfragment PostInfo on Post {\n  id\n  title\n  content\n  __typename\n}\n":3,"mutation deleteComment($input: DeleteCommentInput!) {\n  deleteComment(input: $input) {\n    id\n    __typename\n  }\n}\n":4,"mutation deletePost($id: ID!) {\n  deletePost(id: $id) {\n    id\n    __typename\n  }\n}\n":5,"mutation editComment($input: EditCommentInput!) {\n  editComment(input: $input) {\n    ...CommentInfo\n    __typename\n  }\n}\n\nfragment CommentInfo on Comment {\n  id\n  content\n  __typename\n}\n":6,"mutation editPost($input: EditPostInput!) {\n  editPost(input: $input) {\n    ...PostInfo\n    __typename\n  }\n}\n\nfragment PostInfo on Post {\n  id\n  title\n  content\n  __typename\n}\n":7,"query getCount {\n  count {\n    amount\n    __typename\n  }\n}\n":8,"query getPost($id: ID!) {\n  post(id: $id) {\n    ...PostInfo\n    comments {\n      ...CommentInfo\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment PostInfo on Post {\n  id\n  title\n  content\n  __typename\n}\n\nfragment CommentInfo on Comment {\n  id\n  content\n  __typename\n}\n":9,"query getPosts($limit: Int!, $after: ID) {\n  postsQuery(limit: $limit, after: $after) {\n    totalCount\n    edges {\n      cursor\n      node {\n        ...PostInfo\n        __typename\n      }\n      __typename\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment PostInfo on Post {\n  id\n  title\n  content\n  __typename\n}\n":10,"subscription onCommentUpdated($postId: ID!) {\n  commentUpdated(postId: $postId) {\n    mutation\n    id\n    postId\n    node {\n      ...CommentInfo\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment CommentInfo on Comment {\n  id\n  content\n  __typename\n}\n":11,"subscription onCountUpdated {\n  countUpdated {\n    amount\n    __typename\n  }\n}\n":12,"subscription onPostUpdated($id: ID!) {\n  postUpdated(id: $id) {\n    ...PostInfo\n    __typename\n  }\n}\n\nfragment PostInfo on Post {\n  id\n  title\n  content\n  __typename\n}\n":13}},function(e,t){e.exports="type Query {\n  dummy: Int\n}\n\ntype Mutation {\n  dummy: Int\n}\n\ntype Subscription {\n  dummy: Int\n}\n\nschema {\n  query: Query\n  mutation: Mutation\n  subscription: Subscription\n}\n"},function(e,t){e.exports="# Database counter\ntype Count {\n  # Current amount\n  amount: Int!\n}\n\nextend type Query {\n  # Counter\n  count: Count\n}\n\nextend type Mutation {\n  # Increase counter value, returns current counter amount\n  addCount(\n    # Amount to add to counter\n    amount: Int!\n  ): Count\n}\n\nextend type Subscription {\n  # Subscription fired when anyone increases counter\n  countUpdated(ids: String): Count\n}\n"},function(e,t){e.exports="# Post\ntype Post {\n  id: ID!\n  title: String!\n  content: String!\n  comments: [Comment]\n}\n\n# Comment\ntype Comment {\n  id: ID!\n  content: String!\n}\n\n# Edges for PostsQuery\ntype PostEdges {\n  node: Post\n  cursor: ID\n}\n\n# PageInfo for PostsQuery\ntype PostPageInfo {\n  endCursor: ID\n  hasNextPage: Boolean\n}\n\n# Posts relay-style pagination query\ntype PostsQuery {\n  totalCount: Int\n  edges: [PostEdges]\n  pageInfo: PostPageInfo\n}\n\nextend type Query {\n  # Posts pagination query\n  postsQuery(limit: Int, after: ID): PostsQuery\n  # Post\n  post(id: ID!): Post\n}\n\nextend type Mutation {\n  # Create new post\n  addPost(input: AddPostInput!): Post\n  # Delete a post\n  deletePost(id: ID!): Post\n  # Edit a post\n  editPost(input: EditPostInput!): Post\n  # Add comment to post\n  addComment(input: AddCommentInput!): Comment\n  # Delete a comment\n  deleteComment(input: DeleteCommentInput!): Comment\n  # Edit a comment\n  editComment(input: EditCommentInput!): Comment\n}\n\n# Input for addPost Mutation\ninput AddPostInput {\n  title: String!\n  content: String!\n}\n\n# Input for editPost Mutation\ninput EditPostInput {\n  id: ID!\n  title: String!\n  content: String!\n}\n\n# Input for addComment Mutation\ninput AddCommentInput {\n  content: String!\n  # Needed for commentUpdated Subscription filter\n  postId: ID!\n}\n\n# Input for editComment Mutation\ninput DeleteCommentInput {\n  id: ID!\n  # Needed for commentUpdated Subscription filter\n  postId: ID!\n}\n\n# Input for deleteComment Mutation\ninput EditCommentInput {\n  id: ID!\n  content: String!\n  # Needed for commentUpdated Subscription filter\n  postId: ID!\n}\n\nextend type Subscription {\n  # Subscription for when editing a post\n  postUpdated(id: ID!): Post\n  # Subscription for post list\n  postsUpdated(endCursor: ID!): UpdatePostPayload\n  # Subscription for comments\n  commentUpdated(postId: ID!): UpdateCommentPayload\n}\n\n# Payload for postsUpdated Subscription\ntype UpdatePostPayload {\n  mutation: String!\n  id: ID!\n  node: Post\n}\n\n# Payload for commentUpdated Subscription\ntype UpdateCommentPayload {\n  mutation: String!\n  id: ID\n  postId: ID!\n  node: Comment\n}\n"},function(e,t,n){function i(e){return n(a(e))}function a(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./android-chrome-192x192.png":72,"./android-chrome-256x256.png":73,"./apple-touch-icon.png":74,"./browserconfig.xml":75,"./favicon-16x16.png":76,"./favicon-32x32.png":77,"./favicon.ico":78,"./manifest.json":79,"./mstile-150x150.png":80,"./safari-pinned-tab.svg":81};i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=102},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t){e.exports=require("babel-runtime/helpers/defineProperty")},function(e,t){e.exports=require("babel-runtime/helpers/slicedToArray")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("dataloader")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("graphql-tools")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("isomorphic-fetch")},function(e,t){e.exports=require("knex")},function(e,t){e.exports=require("minilog")},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("performance-now")},function(e,t){e.exports=require("persistgraphql")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("react-router-redux")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("redux-devtools-extension")},function(e,t){e.exports=require("serialize-javascript")},function(e,t){e.exports=require("subscriptions-transport-ws")},function(e,t,n){n(37),e.exports=n(36)}]);
//# sourceMappingURL=index.8a62707195249fcf3dae.js.map