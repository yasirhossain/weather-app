{"version":3,"file":"0.15e283d5df4e94d33876.hot-update.js","sources":["../../src/client/modules/weather/containers/weather.jsx","../.././src/client/modules/weather/graphql/count_add_mutation.graphql","../.././src/client/modules/weather/graphql/count_get.graphql","../.././src/client/modules/weather/graphql/count_subscribe.graphql"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { graphql, compose } from 'react-apollo';\nimport update from 'immutability-helper';\nimport { Button } from 'reactstrap';\n\nimport axios from 'axios';\n\nimport AMOUNT_QUERY from '../graphql/count_get.graphql';\nimport ADD_COUNT_MUTATION from '../graphql/count_add_mutation.graphql';\nimport COUNT_SUBSCRIPTION from '../graphql/count_subscribe.graphql';\n\n//import WEATHER_QUERY from '../graphql/weather_get.graphql';\n\nclass Weather extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.subscription = null;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!nextProps.loading) {\n      this.getLocation();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.subscription) {\n      this.subscription();\n    }\n  }\n\n  getLocation() {\n    const geolocation = navigator.geolocation;\n\n    const location = new Promise((resolve, reject) => {\n      if (!geolocation) {\n        reject(new Error('Not Supported'));\n      }\n\n      geolocation.getCurrentPosition((position) => {\n        return this.getWeatherForecast(position.coords.latitude, position.coords.longitude);\n      }, () => {\n        reject (new Error('Permission denied'));\n      });\n    });\n  }\n\n  getWeatherForecast(lat, long) {\n    const API_KEY = `46ddd9c3c6a545d0d62e60754768e38d`;\n    const WEATHER_URL = `http://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${long}&appid=${API_KEY}`;\n\n    return axios.get(WEATHER_URL).then(\n      function(res) {\n        if (res.data.cod !== '200' && res.data.message){\n          throw new Error(res.data.message);\n        } else {\n          return res.data;\n        }\n      },\n      function(res) {\n        throw new Error(res.data.message);\n      }\n    );\n  }\n\n  render() {\n    const { loading, count, addCount, reduxCount } = this.props;\n    const weatherData = this.getLocation();\n    console.log(weatherData);\n    if (loading) {\n      return (\n        <div className=\"text-center\">\n          Loading...\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"text-center mt-4 mb-4\">\n          ITS DAT BOI WUDDUP\n        </div>\n      );\n    }\n  }\n}\n\nWeather.propTypes = {\n  loading: PropTypes.bool.isRequired,\n};\n\nconst WeatherWithApollo = compose()(Weather);\n\nexport default connect(\n  (state) => ({}),\n  (dispatch) => ({}),\n)(Weather);\n\n\n\n// WEBPACK FOOTER //\n// src/client/modules/weather/containers/weather.jsx","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"mutation\",\"name\":{\"kind\":\"Name\",\"value\":\"addCount\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"amount\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}},\"defaultValue\":null}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"alias\":null,\"name\":{\"kind\":\"Name\",\"value\":\"addCount\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"amount\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"amount\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"alias\":null,\"name\":{\"kind\":\"Name\",\"value\":\"amount\"},\"arguments\":[],\"directives\":[],\"selectionSet\":null}]}}]}}],\"loc\":{\"start\":0,\"end\":92}};\n    doc.loc.source = {\"body\":\"mutation addCount(\\n$amount: Int!\\n) {\\n    addCount(amount: $amount) {\\n        amount\\n    }\\n}\\n\",\"name\":\"GraphQL\"};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \nmodule.exports = doc;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/modules/weather/graphql/count_add_mutation.graphql\n// module id = ./src/client/modules/weather/graphql/count_add_mutation.graphql\n// module chunks = 0","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"getCount\"},\"variableDefinitions\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"alias\":null,\"name\":{\"kind\":\"Name\",\"value\":\"count\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"alias\":null,\"name\":{\"kind\":\"Name\",\"value\":\"amount\"},\"arguments\":[],\"directives\":[],\"selectionSet\":null}]}}]}}],\"loc\":{\"start\":0,\"end\":52}};\n    doc.loc.source = {\"body\":\"query getCount {\\n    count {\\n        amount\\n    }\\n}\\n\",\"name\":\"GraphQL\"};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \nmodule.exports = doc;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/modules/weather/graphql/count_get.graphql\n// module id = ./src/client/modules/weather/graphql/count_get.graphql\n// module chunks = 0","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"subscription\",\"name\":{\"kind\":\"Name\",\"value\":\"onCountUpdated\"},\"variableDefinitions\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"alias\":null,\"name\":{\"kind\":\"Name\",\"value\":\"countUpdated\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"alias\":null,\"name\":{\"kind\":\"Name\",\"value\":\"amount\"},\"arguments\":[],\"directives\":[],\"selectionSet\":null}]}}]}}],\"loc\":{\"start\":0,\"end\":72}};\n    doc.loc.source = {\"body\":\"subscription onCountUpdated {\\n    countUpdated {\\n        amount\\n    }\\n}\\n\",\"name\":\"GraphQL\"};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \nmodule.exports = doc;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/modules/weather/graphql/count_subscribe.graphql\n// module id = ./src/client/modules/weather/graphql/count_subscribe.graphql\n// module chunks = 0"],"mappings":";;A;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AAHA;AAIA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;;;;AAtEA;AACA;AAwEA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;;;;;;;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}